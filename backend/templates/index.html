<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PISHOW Controller</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
  </head>
  <body>
    <main>
      <header>
        <h1>PISHOW Projection Control</h1>
        <p>Upload media, manage your gallery, and take over the projector in one place.</p>
      </header>

      <section id="status-panel">
        <div>
          <span id="status-chip" class="status-chip idle">Idle</span>
        </div>
        <strong id="status-text">Nothing is currently on the projector.</strong>
        <small id="status-details"></small>
        <div class="media-actions">
          <button id="stop-button" class="secondary">Stop playback</button>
          <button id="refresh-button" class="secondary">Refresh</button>
        </div>
      </section>

      <section>
        <h2>Upload new media</h2>
        <p>You can upload JPG, PNG, GIF images and MP4, MKV, MOV, AVI, WEBM videos.</p>
        <div class="form-row">
          <label for="upload-input" class="secondary">Choose a file</label>
          <input type="file" id="upload-input" accept="image/*,video/*">
          <button id="upload-button">Upload</button>
        </div>
      </section>

      <section id="projector-controls">
        <h2>Projector power schedule</h2>
        <p>Configure automatic HDMI-CEC power control for the projector.</p>
        <form id="schedule-form">
          <div class="form-row schedule-row">
            <label class="schedule-label" for="schedule-on-enabled">
              <input type="checkbox" id="schedule-on-enabled">
              <span>Power on at</span>
            </label>
            <input type="time" id="schedule-on-time" autocomplete="off">
          </div>
          <div class="form-row schedule-row">
            <label class="schedule-label" for="schedule-off-enabled">
              <input type="checkbox" id="schedule-off-enabled">
              <span>Power off at</span>
            </label>
            <input type="time" id="schedule-off-time" autocomplete="off">
          </div>
          <div class="form-row schedule-actions">
            <button type="submit" id="schedule-save-button">Save schedule</button>
            <span id="schedule-status" class="form-help" role="status" aria-live="polite"></span>
          </div>
        </form>
        <div class="media-actions projector-actions">
          <button type="button" id="projector-power-on">Turn on now</button>
          <button type="button" class="secondary" id="projector-power-off">Turn off now</button>
        </div>
      </section>

      <section>
        <h2>Gallery</h2>
        <div id="media-list"></div>
      </section>
    </main>
    <script src="{{ url_for('static', filename='app.js') }}" defer></script>
  </body>
</html>
